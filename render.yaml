services:
  - type: web
    name: gog-frontend
    env: static
    buildCommand: npm run build
    staticPublishPath: ./dist
    routes:
      # SPA routing - all non-static routes go to index.html
      - type: rewrite
        source: /.*
        destination: /index.html
        # Exclude static assets from rewrite
        exclude:
          - /static/**
          - /assets/**
          - /*.*
    headers:
      - path: /static/**
        name: Cache-Control
        value: public, max-age=31536000, immutable
      - path: /assets/**
        name: Cache-Control
        value: public, max-age=31536000, immutable
